I"∆Ã<h1 id="–∫–æ–Ω—Å–ø–µ–∫—Ç-–ª–µ–∫—Ü–∏–π-–∫—É—Ä—Å–∞-–ø–æ-rubysinatraruby-on-rails-—á–∞—Å—Ç—å-8">–ö–æ–Ω—Å–ø–µ–∫—Ç –ª–µ–∫—Ü–∏–π –∫—É—Ä—Å–∞ –ø–æ Ruby/Sinatra/Ruby on Rails (—á–∞—Å—Ç—å 8)</h1>

<p><img src="https://img.shields.io/badge/Made%20with%3A%20-Ruby-red.svg" alt="ruby" /> <img src="https://img.shields.io/badge/Made%20with%3A%20-Ruby%20on%20Rails-red.svg" alt="ror" /> <img src="https://img.shields.io/badge/Made%20with%3A%20-Sinatra-red.svg" alt="sinatra" /></p>

<p><strong>–ö–æ–Ω—Å–ø–µ–∫—Ç —Å–æ—Å—Ç–∞–≤–∏–ª:</strong> –ê–ª–µ–∫—Å–µ–π –¶–∞–ø–ª–∏–Ω-–ö—É–ø–∞–π—Å–∏–Ω–æ–≤ (Ruby-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç) - <a href="https://github.com/krdprog">https://github.com/krdprog</a></p>

<p><strong>–ö—É—Ä—Å:</strong> <a href="http://rubyschool.us/">http://rubyschool.us/</a></p>

<p><strong>–ê–≤—Ç–æ—Ä –∫—É—Ä—Å–∞:</strong> –†–æ–º–∞–Ω –ü—É—à–∫–∏–Ω (–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –∏–∑ –°–∞–Ω-–§—Ä–∞–Ω—Ü–∏—Å–∫–æ)</p>

<h2 id="—É—Ä–æ–∫-46">–£—Ä–æ–∫ 46</h2>

<h4 id="—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–º–æ–¥–µ–ª–µ–π">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π</h4>

<p>–î–æ–±–∞–≤–∏—Ç—å –≤ Gemfile –Ω–∞—à–µ–≥–æ RailsBlog:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>group <span style="color:#A60">:test</span> <span style="color:#A60">:development</span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  gem <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">rspec-rails</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>  gem <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">shoulda-matchers</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>  gem <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">capybara</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n5" name="n5">5</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>bundle install
</pre></div>
</div>
</div>

<p><strong>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Rspec –¥–ª—è Rails</strong></p>

<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>rails g rspec:install
</pre></div>
</div>
</div>

<h4 id="–Ω–∞—Å—Ç—Ä–æ–∏–º-shoulda-matchers-–¥–æ–±–∞–≤–∏–≤-–≤-specrails_helperrb">–ù–∞—Å—Ç—Ä–æ–∏–º Shoulda-matchers, –¥–æ–±–∞–≤–∏–≤ –≤ spec/rails_helper.rb:</h4>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#036;font-weight:bold">Shoulda</span>::<span style="color:#036;font-weight:bold">Matchers</span>.configure <span style="color:#080;font-weight:bold">do</span> |config|
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  config.integrate <span style="color:#080;font-weight:bold">do</span> |with|
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>    with.test_framework <span style="color:#A60">:rspec</span>
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>    with.library <span style="color:#A60">:rails</span>
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n6" name="n6">6</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<blockquote>
  <p>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º–æ–º —É—á–µ–±–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ RailsBlog - https://github.com/krdprog/RailsBlog-rubyschool</p>
</blockquote>

<ul>
  <li>–°–æ–∑–¥–∞–¥—É—Ç—Å—è –Ω–æ–≤—ã–µ –∫–∞—Ç–∞–ª–æ–≥–∏ –∏ —Ö–µ–ª–ø–µ—Ä—ã. –°–æ–∑–¥–∞—Å—Ç—Å—è –∫–∞—Ç–∞–ª–æ–≥ /spec</li>
  <li>–°–æ–∑–¥–∞–¥–∏–º –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π –∫–∞—Ç–∞–ª–æ–≥ /spec/models</li>
</ul>

<p>–ú–æ–¥–µ–ª—å, –∫–æ—Ç–æ—Ä—É—é –±—É–¥–µ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (/app/models/contact.rb):</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Contact</span> &lt; <span style="color:#036;font-weight:bold">ApplicationRecord</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  validates <span style="color:#A60">:email</span>, <span style="color:#606">presence</span>: <span style="color:#069">true</span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>  validates <span style="color:#A60">:message</span>, <span style="color:#606">presence</span>: <span style="color:#069">true</span>
<span class="line-numbers"><a href="#n4" name="n4">4</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–°–æ–∑–¥–∞–¥–∏–º —Ç–µ—Å—Ç –¥–ª—è –º–æ–¥–µ–ª–∏: —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª /spec/models/contact_spec.rb</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">rails_helper</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>describe <span style="color:#036;font-weight:bold">Contact</span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>  it { should validate_presence_of <span style="color:#A60">:email</span> }
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>  it { should validate_presence_of <span style="color:#A60">:message</span> }
<span class="line-numbers"><a href="#n6" name="n6">6</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–ó–∞–ø—É—Å—Ç–∏–º —Ç–µ—Å—Ç:</p>
<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>rake spec
</pre></div>
</div>
</div>

<p>should - –¥–æ–ª–∂–Ω–æ</p>

<h3 id="shoulda-matchers">Shoulda matchers:</h3>

<blockquote>
  <p>https://relishapp.com/rspec/rspec-expectations/docs/built-in-matchers</p>
</blockquote>

<blockquote>
  <p>https://matchers.shoulda.io/</p>
</blockquote>

<blockquote>
  <p>http://matchers.shoulda.io/docs/v3.1.3/</p>
</blockquote>

<blockquote>
  <p>https://github.com/thoughtbot/shoulda-matchers</p>
</blockquote>

<h4 id="have_many">have_many:</h4>

<blockquote>
  <p>http://matchers.shoulda.io/docs/v3.1.3/Shoulda/Matchers/ActiveRecord.html#have_many-instance_method</p>
</blockquote>

<p>–°–æ–∑–¥–∞–¥–∏–º —Ç–µ—Å—Ç /spec/models/article_spec.rb:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">rails_helper</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>describe <span style="color:#036;font-weight:bold">Article</span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>  it { should have_many <span style="color:#A60">:comments</span> }
<span class="line-numbers"><a href="#n5" name="n5">5</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–°–æ–∑–¥–∞–¥–∏–º —Ç–µ—Å—Ç /spec/models/comment_spec.rb</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">rails_helper</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>describe <span style="color:#036;font-weight:bold">Comment</span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>  it { should belong_to <span style="color:#A60">:article</span> }
<span class="line-numbers"><a href="#n5" name="n5">5</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<h4 id="–≤–ª–æ–∂–µ–Ω–Ω—ã–π-describe---–ø–æ–≤—ã—à–∞–µ—Ç-—á–∏—Ç–∞–µ–º–æ—Å—Ç—å-—Ç–µ—Å—Ç–æ–≤">–í–ª–æ–∂–µ–Ω–Ω—ã–π describe - –ø–æ–≤—ã—à–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤</h4>

<p>/spec/models/article_spec.rb:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span>require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">rails_helper</span><span style="color:#710">'</span></span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>describe <span style="color:#036;font-weight:bold">Article</span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>  describe <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">validations</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>    it { should validate_presence_of <span style="color:#A60">:title</span> }
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>    it { should validate_presence_of <span style="color:#A60">:text</span> }
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>  describe <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">assotiations</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>    it { should have_many <span style="color:#A60">:comments</span> }
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n12" name="n12">12</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–ü—Ä–∏–Ω—è—Ç–æ –ø–∏—Å–∞—Ç—å –¥–ª—è –ù–ï –º–µ—Ç–æ–¥–æ–≤:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>describe <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">something</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
</pre></div>
</div>
</div>

<p>–ê, –¥–ª—è instance –º–µ—Ç–æ–¥–æ–≤:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>describe <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">#method</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
</pre></div>
</div>
</div>

<p>–î–ª—è class –º–µ—Ç–æ–¥–æ–≤ (self.method):</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>describe <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">.method</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
</pre></div>
</div>
</div>

<h3 id="–¥–æ–±–∞–≤–∏–º-–≤-appmodelsarticlerb">–î–æ–±–∞–≤–∏–º –≤ /app/models/article.rb</h3>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">subject</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  title
<span class="line-numbers"><a href="#n3" name="n3">3</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–ò, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º —ç—Ç–æ—Ç –º–µ—Ç–æ–¥, –¥–æ–±–∞–≤–∏–º —Ç–µ—Å—Ç –≤ /spec/models/article_spec.rb</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span>require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">rails_helper</span><span style="color:#710">'</span></span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>describe <span style="color:#036;font-weight:bold">Article</span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>  describe <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">#subject</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>    it <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">returns the article title</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>      article = create(<span style="color:#A60">:article</span>, <span style="color:#606">title</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Foo Bar</span><span style="color:#710">'</span></span>)
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>      expect(article.subject).to  eq <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Foo Bar</span><span style="color:#710">'</span></span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>    <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n11" name="n11">11</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–ß—Ç–æ–±—ã —ç—Ç–æ—Ç —Ç–µ—Å—Ç –∑–∞—Ä–∞–±–æ—Ç–∞–ª, –Ω—É–∂–µ–Ω –≥–µ–º factory bot</p>

<h4 id="gem-factory-girl-—É—Å—Ç–∞—Ä–µ–ª--factory-bot-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å">gem Factory Girl (—É—Å—Ç–∞—Ä–µ–ª) ‚Äì&gt; Factory Bot (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å)</h4>

<p>–ü–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏, —á—Ç–æ–±—ã –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∞, —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ñ–∞–±—Ä–∏–∫–∞, –∏ –æ–Ω–∞ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–∞–º –æ–±—ä–µ–∫—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∞.</p>

<p><strong>–í–ê–ñ–ù–û–ï –ó–ê–ú–ï–ß–ê–ù–ò–ï!!!</strong> –ì–µ–º factory girl - —É—Å—Ç–∞—Ä–µ–ª, –Ω–∞–¥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å factory bot</p>

<blockquote>
  <p>https://github.com/thoughtbot/factory_bot/blob/v4.9.0/UPGRADE_FROM_FACTORY_GIRL.md</p>
</blockquote>

<blockquote>
  <p>https://www.rubydoc.info/gems/factory_bot/file/GETTING_STARTED.md</p>
</blockquote>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>DEPRECATION WARNING: The factory_girl gem is deprecated. Please upgrade to factory_bot. See https://github.com/thoughtbot/factory_bot/blob/v4.9.0/UPGRADE_FROM_FACTORY_GIRL.md for further instructions.
</pre></div>
</div>
</div>

<p>–î–æ–±–∞–≤–∏—Ç—å –≤ Gemfile:</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>group <span style="color:#A60">:development</span>, <span style="color:#A60">:test</span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  gem <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">factory_bot_rails</span><span style="color:#710">&quot;</span></span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>bundle install
</pre></div>
</div>
</div>

<p>–ò, –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ /spec/rails_helper.rb:</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#036;font-weight:bold">RSpec</span>.configure <span style="color:#080;font-weight:bold">do</span> |config|
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  config.include <span style="color:#036;font-weight:bold">FactoryBot</span>::<span style="color:#036;font-weight:bold">Syntax</span>::<span style="color:#036;font-weight:bold">Methods</span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<h4 id="–∫–∞–∫-—Å–æ–∑–¥–∞–≤–∞—Ç—å-—Ñ–∞–±—Ä–∏–∫–∏">–ö–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∞–±—Ä–∏–∫–∏:</h4>

<blockquote>
  <p>https://www.rubydoc.info/gems/factory_bot/file/GETTING_STARTED.md#Defining_factories</p>
</blockquote>

<p><strong>–°–æ–∑–¥–∞–¥–∏–º –∫–∞—Ç–∞–ª–æ–≥ —Å —Ñ–∞–±—Ä–∏–∫–∞–º–∏ - /spec/factories</strong></p>

<p>–ò, —Å–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª /spec/factories/articles.rb:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#036;font-weight:bold">FactoryBot</span>.define <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  factory <span style="color:#A60">:article</span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>    title { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Article title</span><span style="color:#710">&quot;</span></span> }
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>    text { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Article text</span><span style="color:#710">&quot;</span></span> }
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n6" name="n6">6</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è factory bot –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Ç–æ–º, —á—Ç–æ –Ω–µ –Ω—É–∂–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö.</p>

<blockquote>
  <p>–ö–∞–∫ –≤—Å—ë –≤—ã–≥–ª—è–¥–∏—Ç –≤ RailsBlog —Å–º. https://github.com/krdprog/RailsBlog-rubyschool</p>
</blockquote>

<p><strong>–°–æ–∑–¥–∞–¥–∏–º –≤ /app/models/article.rb –º–µ—Ç–æ–¥ last_comment –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º –µ–≥–æ:</strong></p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">last_comment</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  comments.last
<span class="line-numbers"><a href="#n3" name="n3">3</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–î–æ–±–∞–≤–∏–º –≤ /spec/models/article_spec.rb</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>describe <span style="color:#036;font-weight:bold">Article</span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  describe <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">#last_comment</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>    it <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">returns the last comment</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>    <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n6" name="n6">6</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n7" name="n7">7</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–±—Ä–∏–∫—É /spec/factories/comments.rb:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#036;font-weight:bold">FactoryBot</span>.define <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  factory <span style="color:#A60">:comment</span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>    author { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Chuck Norris</span><span style="color:#710">&quot;</span></span> }
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>    sequence(<span style="color:#A60">:body</span>) { |n| <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Comment body </span><span style="background-color:hsla(0,0%,0%,0.07);color:black"><span style="font-weight:bold;color:#666">#{</span>n<span style="font-weight:bold;color:#666">}</span></span><span style="color:#710">&quot;</span></span> }
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n6" name="n6">6</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>
<p>Sequences (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏):</p>

<blockquote>
  <p>https://www.rubydoc.info/gems/factory_bot/file/GETTING_STARTED.md#Sequences</p>
</blockquote>

<p>–°–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ create_list (—á–µ—Ä–µ–∑ –ø–æ–∏—Å–∫ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ):</p>

<blockquote>
  <p>https://www.rubydoc.info/gems/factory_bot/file/GETTING_STARTED.md</p>
</blockquote>

<p>–î–æ–±–∞–≤–∏–º –≤ /spec/factories/articles.rb:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#036;font-weight:bold">FactoryBot</span>.define <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>  factory <span style="color:#A60">:article</span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>    title { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Article title</span><span style="color:#710">&quot;</span></span> }
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>    text { <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Article text</span><span style="color:#710">&quot;</span></span> }
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>    <span style="color:#777"># —Å–æ–∑–¥–∞—ë–º —Ñ–∞–±—Ä–∏–∫—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∞—Ç—å–∏ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏</span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>    factory <span style="color:#A60">:article_with_comments</span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>      <span style="color:#777"># –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è article</span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>      after <span style="color:#A60">:create</span> <span style="color:#080;font-weight:bold">do</span> |article, evaluator|
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>        <span style="color:#777"># —Å–æ–∑–¥–∞—ë–º —Å–ø–∏—Å–æ–∫ –∏–∑ 3-—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤</span>
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>        create_list <span style="color:#A60">:comment</span>, <span style="color:#00D">3</span>, <span style="color:#606">article</span>: article
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>      <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>    <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n15" name="n15">15</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–í /spec/models/article_spec.rb —Å–æ–∑–¥–∞–¥–∏–º —Å—Ç–∞—Ç—å—é —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span>require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">rails_helper</span><span style="color:#710">'</span></span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>describe <span style="color:#036;font-weight:bold">Article</span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>  describe <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">#last_comment</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>    it <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">returns the last comment</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>      <span style="color:#777"># —Å–æ–∑–¥–∞—ë–º —Å—Ç–∞—Ç—å—é —Å 3 –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏</span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>      article = create(<span style="color:#A60">:article_with_comments</span>)
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>      <span style="color:#777"># –ø—Ä–æ–≤–µ—Ä–∫–∞</span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>      expect(article.last_comment.body).to eq <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Comment body 3</span><span style="color:#710">&quot;</span></span>
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>    <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n13" name="n13">13</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p><strong>–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ:</strong></p>

<ul>
  <li>–î–æ–±–∞–≤–∏—Ç—å –≤ —Å—É—â–Ω–æ—Å—Ç—å Article –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª–∏–Ω—ã title –≤ 140 —Å–∏–º–≤–æ–ª–æ–≤ –∏ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã.</li>
  <li>–î–æ–±–∞–≤–∏—Ç—å –≤ —Å—É—â–Ω–æ—Å—Ç—å Article –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª–∏–Ω—ã text –≤ 4000 —Å–∏–º–≤–æ–ª–æ–≤ –∏ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã.</li>
  <li>–í Comment –¥–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª–∏–Ω—ã body –≤ 4000 —Å–∏–º–≤–æ–ª–æ–≤ –∏ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã.</li>
</ul>

<h2 id="—É—Ä–æ–∫-47">–£—Ä–æ–∫ 47</h2>

<p><strong>TODO:</strong> –í –∫–æ–Ω—Ü–µ —É—Ä–æ–∫–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –ø–∞—Ä–æ–π –æ—à–∏–±–æ–∫. –û—Å—Ç–∞–≤–∏–ª –Ω–∞ –ø–æ—Ç–æ–º, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å –∏ —Ä–µ—à–∏—Ç—å –∫–∞–∫ –¥–µ–ª–∞—Ç—å. –í–Ω–∏–º–∞–Ω–∏–µ.</p>

<h3 id="–ø—Ä–∏—ë–º–æ—á–Ω–æ–µ-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-acceptance-testing">–ü—Ä–∏—ë–º–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Acceptance Testing)</h3>

<p>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º. –û—Ç–ª–∏—á–∏–µ –æ—Ç —é–Ω–∏—Ç-—Ç–µ—Å—Ç–æ–≤, —á—Ç–æ –¥–ª—è —ç—Ç–∏—Ö —Ç–µ—Å—Ç–æ–≤ –æ–±—ã—á–Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø–ª–∞–Ω –ø—Ä–∏—ë–º–æ—á–Ω—ã—Ö —Ä–∞–±–æ—Ç. –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã - –ø—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ–±—ã –Ω–µ —Å–ª–æ–º–∞–ª–æ—Å—å.</p>

<blockquote>
  <p>http://protesting.ru/testing/levels/acceptance.html</p>
</blockquote>

<p>unit:</p>
<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>describe
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  it
</pre></div>
</div>
</div>

<p>acceptance:</p>
<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>feature
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  scenario
</pre></div>
</div>
</div>

<p>feature scenario - —ç—Ç–æ —Ñ–∏—à–∫–∞ Capybara</p>

<h3 id="capybara">Capybara</h3>

<blockquote>
  <p>https://www.rubydoc.info/github/teamcapybara/capybara/master</p>
</blockquote>

<p>feature - –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å
scenario - —Å—Ü–µ–Ω–∞—Ä–∏–π</p>

<p>–î–æ–±–∞–≤–∏—Ç—å –≤ Gemfile:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>group <span style="color:#A60">:test</span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  gem <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">capybara</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<h4 id="2-—Ç–∏–ø–∞-—Ç–µ—Å—Ç–æ–≤">2 —Ç–∏–ø–∞ —Ç–µ—Å—Ç–æ–≤:</h4>

<ul>
  <li>visitor_‚Ä¶_spec.rb - –∞–Ω–æ–Ω–∏–º–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</li>
  <li>user_‚Ä¶_spec.rb - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã–π –≤ —Å–∏—Å—Ç–µ–º–µ</li>
</ul>

<p><strong>Using Capybara with RSpec:</strong></p>
<blockquote>
  <p>https://github.com/teamcapybara/capybara#using-capybara-with-rspec</p>
</blockquote>

<h4 id="–ø—Ä–∏–º–µ—Ä-–¥–ª—è-–∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–π-—Ñ–æ—Ä–º—ã-—Å—É—â–µ—Å—Ç–≤—É–µ—Ç-2-—Å—Ü–µ–Ω–∞—Ä–∏—è">–ü—Ä–∏–º–µ—Ä: –î–ª—è –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–π —Ñ–æ—Ä–º—ã —Å—É—â–µ—Å—Ç–≤—É–µ—Ç 2 —Å—Ü–µ–Ω–∞—Ä–∏—è:</h4>

<ol>
  <li>–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.</li>
  <li>–ß—Ç–æ –º—ã –º–æ–∂–µ–º —ç—Ç—É —Ñ–æ—Ä–º—É –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å</li>
</ol>

<p>–ü—Ä–æ–≤–µ–¥—ë–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–π —Ñ–æ—Ä–º—ã –≤ —É—á–µ–±–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ RailsBlog.</p>

<blockquote>
  <p>https://github.com/krdprog/RailsBlog-rubyschool</p>
</blockquote>

<p>–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ñ–æ—Ä–º—É –Ω–∞ http://localhost:3000/contacts</p>

<p>new_contacts_path - —ç—Ç–æ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç –¥–ª—è /contacts</p>

<p><strong>–°–æ–∑–¥–∞–¥–∏–º –∫–∞—Ç–∞–ª–æ–≥ /spec/features</strong> –∏ —Å–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª /spec/features/visitor_creates_contact_spec.rb:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span>require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">rails_helper</span><span style="color:#710">&quot;</span></span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>feature <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Contact creation</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>  scenario <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">allows acess to contacts page</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>    visit new_contacts_path
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>    expect(page).to have_content <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Contact us</span><span style="color:#710">'</span></span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<h3 id="—Ä–∞–±–æ—Ç–∞-—Å-i18n-internationalization">–†–∞–±–æ—Ç–∞ —Å i18n (internationalization)</h3>

<ul>
  <li>–û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª /config/locales/en.yml</li>
</ul>

<div class="language-yml highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#606">en</span>:
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  <span style="color:#606">hello</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Hello world</span><span style="color:#710">&quot;</span></span>
</pre></div>
</div>
</div>

<ul>
  <li>–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å 2 –ø—Ä–æ–±–µ–ª–∞, –∏–Ω–∞—á–µ yml –Ω–µ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç.</li>
</ul>

<p>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Sublime Text (Preferences - Settings - Syntax Specific):</p>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>{
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  &quot;tab_size&quot;: 2,
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>  &quot;translate_tabs_to_spaces&quot;: true
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>}
</pre></div>
</div>
</div>

<p>–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –¥–ª—è —Å–∞–π—Ç–∞ –∏ –≤—ã–∑—ã–≤–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤–æ views. –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å /config/locales/ru.yml</p>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span># To use the locales, use `I18n.t`:
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>#
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>#     I18n.t 'hello'
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>#
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span># In views, this is aliased to just `t`:
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>#
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>#     &lt;%= t('hello') %&gt;
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>#
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span># To use a different locale, set it with `I18n.locale`:
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>#
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>#     I18n.locale = :es
</pre></div>
</div>
</div>

<p>–°–æ–∑–¥–∞–¥–∏–º –≤ /config/locales/en.yml:</p>

<div class="language-yml highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#606">en</span>:
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  <span style="color:#606">contacts</span>:
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>    <span style="color:#606">contact_us</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Contact Us!</span><span style="color:#710">&quot;</span></span>
</pre></div>
</div>
</div>

<p>–ò, –≤—ã–∑–æ–≤–µ–º –≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ /app/views/contacts/new.html.erb:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>&lt;h2&gt;&lt;<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">%=</span><span style="color:#D20"> t('contacts.contact_us') %&gt;&lt;/h2&gt;</span></span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span><span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20"></span></span></pre></div>
</div>
</div>

<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ i18n –≤ Capybara:</strong> –ò—Å–ø—Ä–∞–≤–∏–º –Ω–∞—à —Ç–µ—Å—Ç —Å —É—á—ë—Ç–æ–º i18n —Ñ–∞–π–ª /spec/features/visitor_creates_contact_spec.rb:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span>require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">rails_helper</span><span style="color:#710">&quot;</span></span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>feature <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Contact creation</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>  scenario <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">allows acess to contacts page</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>    visit new_contacts_path
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>    expect(page).to have_content <span style="color:#036;font-weight:bold">I18n</span>.t(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">contacts.contact_us</span><span style="color:#710">'</span></span>)
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–ó–∞–ø—É—Å—Ç–∏–º —Ç–µ—Å—Ç:</p>

<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>rake spec
</pre></div>
</div>
</div>

<h4 id="—Å–ª–µ–¥—É—é—â–∏–π-—Ç–µ—Å—Ç-—Å–æ–∑–¥–∞–Ω–∏–µ-—Å–∞–º–æ–≥–æ-—Å–æ–æ–±—â–µ–Ω–∏—è">–°–ª–µ–¥—É—é—â–∏–π —Ç–µ—Å—Ç, —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∞–º–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è:</h4>

<p>–û—Ç–∫—Ä–æ–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —Ñ–æ—Ä–º–æ–π –∑–∞—è–≤–∫–∏ –∏ –æ—Ç–∫—Ä–æ–µ–º –∫–æ–¥ —Ñ–æ—Ä–º—ã, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å id (–±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ç–µ—Å—Ç–µ):</p>

<div class="language-html highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#070;font-weight:bold">&lt;input</span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">contact[email]</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">id</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">contact_email</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">type</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">text</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span><span style="color:#070;font-weight:bold">&lt;textarea</span> <span style="color:#b48">name</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">contact[message]</span><span style="color:#710">&quot;</span></span> <span style="color:#b48">id</span>=<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">contact_message</span><span style="color:#710">&quot;</span></span><span style="color:#070;font-weight:bold">&gt;</span><span style="color:#070;font-weight:bold">&lt;/textarea&gt;</span>
</pre></div>
</div>
</div>

<p>–ù–∞—à —Ñ–∞–π–ª —Å —Ç–µ—Å—Ç–æ–º (features/visitor_creates_contact_spec.rb) –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span>require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">rails_helper</span><span style="color:#710">&quot;</span></span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>feature <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Contact creation</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>  scenario <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">allows acess to contacts page</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>    visit new_contacts_path
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>    expect(page).to have_content <span style="color:#036;font-weight:bold">I18n</span>.t(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">contacts.contact_us</span><span style="color:#710">'</span></span>)
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>  scenario <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">allows a guest to create contact</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>    visit new_contacts_path
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>    fill_in <span style="color:#A60">:contact_email</span>, <span style="color:#606">with</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">foo@bar.ru</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>    fill_in <span style="color:#A60">:contact_message</span>, <span style="color:#606">with</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Foo Bar Baz</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>    click_button <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Send message</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n16" name="n16">16</a></span>    expect(page).to have_content <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Thanks!</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n17" name="n17">17</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n18" name="n18">18</a></span>
<span class="line-numbers"><a href="#n19" name="n19">19</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<h4 id="—Å–ª–µ–¥—É—é—â–∏–π-—Ç–µ—Å—Ç-–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è-–∑–∞–ª–æ–≥–∏–Ω–∏–≤—à–∏—Å—å-–ø–æ–¥-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º">–°–ª–µ–¥—É—é—â–∏–π —Ç–µ—Å—Ç: –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∑–∞–ª–æ–≥–∏–Ω–∏–≤—à–∏—Å—å –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º</h4>

<p>–°–¥–µ–ª–∞–µ–º —Å–Ω–∞—á–∞–ª–∞ <strong>—Ç–µ—Å—Ç –¥–ª—è –≥–æ—Å—Ç—è, —á—Ç–æ –æ–Ω –º–æ–∂–µ—Ç –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å–∞–π—Ç–µ, —Ç.–µ. –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.</strong></p>

<p>–°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª /spec/features/visitor_creates_account_spec.rb</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span>require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">rails_helper</span><span style="color:#710">&quot;</span></span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>feature <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Account Creation</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>  scenario <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">allows guest to create account</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>    visit new_user_registration_path
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>    fill_in <span style="color:#A60">:user_username</span>, <span style="color:#606">with</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">FooBar</span><span style="color:#710">'</span></span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>    fill_in <span style="color:#A60">:user_email</span>, <span style="color:#606">with</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">foo@bar.com</span><span style="color:#710">'</span></span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>    fill_in <span style="color:#A60">:user_password</span>, <span style="color:#606">with</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">1234567</span><span style="color:#710">'</span></span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>    fill_in <span style="color:#A60">:user_password_confirmation</span>, <span style="color:#606">with</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">1234567</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>    click_button <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Sign up</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>    expect(page).to have_content <span style="color:#036;font-weight:bold">I18n</span>.t(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">devise.registrations.signed_up</span><span style="color:#710">'</span></span>)
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n15" name="n15">15</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>devise.registrations.signed_up –≤–∑—è—Ç–æ –∏–∑ i18n - config/locales/devise.en.yml</p>

<p>–ó–∞–ø—É—Å—Ç–∏–º —Ç–µ—Å—Ç:</p>

<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>rake spec
</pre></div>
</div>
</div>

<p>–í—Å—ë —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö test.sqlite3</p>

<p><strong>–î–∞–ª–µ–µ –ø—Ä–æ–≤–µ—Ä–∏–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∞—Ç–µ–π –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:</strong></p>

<p>–ß—Ç–æ–±—ã –Ω–µ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –ø–æ—Ä—è–¥–∫–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ –∏ –Ω–µ –ø–æ–≤–æ—Ç–æ—è—Ç—å—Å—è –≤ –∫–æ–¥–µ, –≤—ã–Ω–µ—Å–µ–º —á–∞—Å—Ç—å –∫–æ–¥–∞ –≤ –º–µ—Ç–æ–¥ sign_up</p>

<p>/spec/features/visitor_creates_account_spec.rb:</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span>require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">rails_helper</span><span style="color:#710">&quot;</span></span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>feature <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Account Creation</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>  scenario <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">allows guest to create account</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>    sign_up
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>    expect(page).to have_content <span style="color:#036;font-weight:bold">I18n</span>.t(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">devise.registrations.signed_up</span><span style="color:#710">'</span></span>)
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span><span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span><span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">sign_up</span>
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>  visit new_user_registration_path
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>  fill_in <span style="color:#A60">:user_username</span>, <span style="color:#606">with</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">FooBar</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>  fill_in <span style="color:#A60">:user_email</span>, <span style="color:#606">with</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">foo@bar.com</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>  fill_in <span style="color:#A60">:user_password</span>, <span style="color:#606">with</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">1234567</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n16" name="n16">16</a></span>  fill_in <span style="color:#A60">:user_password_confirmation</span>, <span style="color:#606">with</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">1234567</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n17" name="n17">17</a></span>
<span class="line-numbers"><a href="#n18" name="n18">18</a></span>  click_button <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Sign up</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n19" name="n19">19</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–î–∞–ª–µ–µ –≤—ã–Ω–µ—Å–µ–º –∫–æ–¥ –º–µ—Ç–æ–¥–∞ sign_up –≤ —Ñ–∞–π–ª –≤ –∫–∞—Ç–∞–ª–æ–≥–µ /spec/support</p>

<h4 id="rspec-before-after-hooks">RSpec: before, after hooks</h4>

<blockquote>
  <p>https://relishapp.com/rspec/rspec-core/v/3-8/docs/hooks/before-and-after-hooks</p>
</blockquote>

<p>–ù–∞–º –Ω–∞–¥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å sign_up –≤ —Ä–∞–∑–Ω—ã—Ö —Ç–µ—Å—Ç–∞—Ö, –∏ —á—Ç–æ–±—ã –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è –∏ –Ω–µ –ø–∏—Å–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–¥, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º before, after hooks</p>

<p>–ò—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º —Ç–µ—Å—Ç–æ–º –≤ feature –∏–ª–∏ describe:</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>before(<span style="color:#A60">:each</span>) <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–ò—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –≤—Å–µ–º–∏ —Ç–µ—Å—Ç–∞–º–∏ –≤ feature –∏–ª–∏ describe:</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>before(<span style="color:#A60">:all</span>) <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–ü–µ—Ä–µ–ø–∏—à–µ–º —Ç–µ—Å—Ç /spec/features/visitor_creates_account_spec.rb:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">rails_helper</span><span style="color:#710">&quot;</span></span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>feature <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Account Creation</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>  scenario <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">allows guest to create account</span><span style="color:#710">&quot;</span></span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>    sign_up
<span class="line-numbers"><a href="#n6" name="n6">6</a></span>    expect(page).to have_content <span style="color:#036;font-weight:bold">I18n</span>.t(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">devise.registrations.signed_up</span><span style="color:#710">'</span></span>)
<span class="line-numbers"><a href="#n7" name="n7">7</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n8" name="n8">8</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–ú—ã –≤—ã–Ω–µ—Å–ª–∏ –∫–æ–¥ –º–µ—Ç–æ–¥–∞ sign_up –≤ —Ñ–∞–π–ª /spec/support/session_helper.rb:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">sign_up</span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>  visit new_user_registration_path
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>  fill_in <span style="color:#A60">:user_username</span>, <span style="color:#606">with</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">FooBar</span><span style="color:#710">'</span></span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>  fill_in <span style="color:#A60">:user_email</span>, <span style="color:#606">with</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">foo@bar.com</span><span style="color:#710">'</span></span>
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>  fill_in <span style="color:#A60">:user_password</span>, <span style="color:#606">with</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">1234567</span><span style="color:#710">'</span></span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>  fill_in <span style="color:#A60">:user_password_confirmation</span>, <span style="color:#606">with</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">1234567</span><span style="color:#710">'</span></span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>  click_button <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Sign up</span><span style="color:#710">'</span></span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–°–æ–∑–¥–∞–¥–∏–º —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∞—Ç—å–∏ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º /spec/features/user_creates_article_spec.rb:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>
</pre></div>
</div>
</div>

<p>–†–µ—à–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞ —Å —Ç–µ–º, —á—Ç–æ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–µ—Å—Ç–∞—Ö –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è sign_up (–∏ –≤—ã–ø–∞–¥–∞–µ—Ç –æ—à–∏–±–∫–∞ –æ —Ç–æ–º, —á—Ç–æ —ç—Ç–æ—Ç —ç—Ç–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –µ—Å—Ç—å). –ë–î —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∞–º–∏.</p>

<blockquote>
  <p>https://github.com/teamcapybara/capybara#transactions-and-database-setup</p>
</blockquote>

<blockquote>
  <p>https://github.com/DatabaseCleaner/database_cleaner#rspec-example</p>
</blockquote>

<p>–î–æ–±–∞–≤–∏—Ç—å –≤ Gemfile:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>group <span style="color:#A60">:test</span> <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  gem <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">database_cleaner</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>bundle install
</pre></div>
</div>
</div>
<p>–°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ database_cleaner –≤ —Ñ–∞–π–ª–µ /spec/support/database_cleaner.rb:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#036;font-weight:bold">RSpec</span>.configure <span style="color:#080;font-weight:bold">do</span> |config|
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>  config.before(<span style="color:#A60">:suite</span>) <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>    <span style="color:#036;font-weight:bold">DatabaseCleaner</span>.strategy = <span style="color:#A60">:transaction</span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>    <span style="color:#036;font-weight:bold">DatabaseCleaner</span>.clean_with(<span style="color:#A60">:truncation</span>)
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>  config.around(<span style="color:#A60">:each</span>) <span style="color:#080;font-weight:bold">do</span> |example|
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>    <span style="color:#036;font-weight:bold">DatabaseCleaner</span>.cleaning <span style="color:#080;font-weight:bold">do</span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>      example.run
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>    <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>
<span class="line-numbers"><a href="#n14" name="n14">14</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<blockquote>
  <p>–ò–∑—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Capybara:</p>
  <ul>
    <li>https://github.com/teamcapybara/capybara</li>
    <li>https://www.rubydoc.info/github/teamcapybara/capybara/master</li>
  </ul>
</blockquote>

<h2 id="—É—Ä–æ–∫-48">–£—Ä–æ–∫ 48</h2>

<h3 id="—Å–∫–∞—Ñ—Ñ–æ–ª–¥–∏–Ω–≥">–°–∫–∞—Ñ—Ñ–æ–ª–¥–∏–Ω–≥</h3>

<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>rails new toy_app
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>bundle install
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>bundle update
</pre></div>
</div>
</div>

<p>–°–¥–µ–ª–∞–µ–º –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–∏–∫—Ä–æ–ø–æ—Å—Ç–∏–Ω–≥:</p>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span>---------------------
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>|  users            |
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>---------------------
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>id     integer
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>name   string
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>email  string
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>---------------------
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>---------------------
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>|  microposts       |
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>---------------------
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>id      integer
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>content text
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>user_id integer
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>---------------------
</pre></div>
</div>
</div>

<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>rails g scaffold User name:string email:string
</pre></div>
</div>
</div>
<p>–°–æ–∑–¥–∞—Å—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –º–æ–¥–µ–ª—å, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, —ç–∫—à–µ–Ω—ã, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, —Ç–µ—Å—Ç—ã.</p>

<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>bundle exec rake db:migrate
</pre></div>
</div>
</div>

<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>rails g scaffold Micropost content:text user_id:integer
</pre></div>
</div>
</div>
<p>–í–∞–ª–∏–¥–∞—Ü–∏—è Micropost (–≤ –º–æ–¥–µ–ª–∏):</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>validates <span style="color:#A60">:content</span>, <span style="color:#606">length</span>: { <span style="color:#606">maximum</span>: <span style="color:#00D">140</span> }, <span style="color:#606">presence</span>: <span style="color:#069">true</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>validates <span style="color:#A60">:user_id</span>, <span style="color:#606">presence</span>: <span style="color:#069">true</span>
</pre></div>
</div>
</div>

<p>–í–∞–ª–∏–¥–∞—Ü–∏—è User (–≤ –º–æ–¥–µ–ª–∏):</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>validates <span style="color:#A60">:name</span>, <span style="color:#606">presence</span>: <span style="color:#069">true</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>validates <span style="color:#A60">:email</span>, <span style="color:#606">presence</span>: <span style="color:#069">true</span>
</pre></div>
</div>
</div>

<p>–î–æ–±–∞–≤–∏–º –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏ one-to-many –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏ –º–∏–∫—Ä–æ–ø–æ—Å—Ç–æ–º.</p>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>User --1--------*-- Micropost
</pre></div>
</div>
</div>

<p>–ú–æ–¥–µ–ª—å User:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>has_many <span style="color:#A60">:microposts</span>
</pre></div>
</div>
</div>

<p>–ú–æ–¥–µ–ª—å Micropost:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>belongs_to <span style="color:#A60">:user</span>
</pre></div>
</div>
</div>

<p>–û—Ç–∫—Ä–æ–µ–º rails console:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>first_user = <span style="color:#036;font-weight:bold">User</span>.first
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>first_user.microposts
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>first_user.microposts.count <span style="color:#777"># –æ–±—Ä–∞—Ç–∏—Ç—Å—è –∫ –ë–î</span>
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>first_user.microposts.length <span style="color:#777"># –ø—Ä–æ—á–∏—Ç–∞–µ—Ç —Ç–æ, —á—Ç–æ —É–∂–µ –µ—Å—Ç—å –≤ –ø–∞–º—è—Ç–∏, –±–µ–∑ –ë–î</span>
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>micropost = first_user.microposts.first <span style="color:#777"># –ø–µ—Ä–≤—ã–π –º–∏–∫—Ä–æ–ø–æ—Å—Ç –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</span>
<span class="line-numbers"><a href="#n6" name="n6">6</a></span>micropost.user <span style="color:#777"># –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–∏–∫—Ä–æ–ø–æ—Å—Ç–∞</span>
</pre></div>
</div>
</div>

<ul>
  <li>–ú–æ–¥–µ–ª–∏ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –æ—Ç ActiveRecord::Base</li>
  <li>–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –æ—Ç ApplicationController, –∞ ApplicationController –æ—Ç ActionController::Base</li>
</ul>

<h3 id="–æ—Ç–ø—Ä–∞–≤–∫–∞-e-mail">–û—Ç–ø—Ä–∞–≤–∫–∞ e-mail</h3>

<ul>
  <li>SMTP-—Å–µ—Ä–≤–µ—Ä</li>
  <li>—Ö–æ—Å—Ç–∏–Ω–≥ - –±–æ–ª—å—à–æ–π –ø—Ä–æ—Ü–µ–Ω—Ç –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤ —Å–ø–∞–º</li>
  <li>gmail - –Ω–∞–¥–æ –≤–∫–ª—é—á–∏—Ç—å options, –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è</li>
  <li>postmarkapp - –¥–ª—è Transactional emails, –Ω–æ —á–µ—Ä–µ–∑ –Ω–µ–≥–æ –Ω–µ–ª—å–∑—è –¥–µ–ª–∞—Ç—å –ø–æ—á—Ç–æ–≤—É—é —Ä–∞—Å—Å—ã–ª–∫—É. –ü–∏—Å—å–º–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å –∫–Ω–æ–ø–∫–æ–π Unsubscribe.</li>
  <li>bulk email messaging - –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏</li>
</ul>

<blockquote>
  <p>https://postmarkapp.com/developer/user-guide/sending-email/sending-with-api</p>
</blockquote>

<blockquote>
  <p>https://github.com/wildbit/postmark-gem</p>
</blockquote>

<blockquote>
  <p>https://github.com/wildbit/postmark-rails</p>
</blockquote>

<blockquote>
  <p>http://rusrails.ru/action-mailer-basics</p>
</blockquote>

<blockquote>
  <p>https://www.youtube.com/watch?v=FNOhpAWbiKA</p>
</blockquote>

<blockquote>
  <p>https://github.com/mikel/mail</p>
</blockquote>

<h2 id="—É—Ä–æ–∫-49">–£—Ä–æ–∫ 49</h2>

<h3 id="–ø—Ä–æ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è-–ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ-–∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏">–ü—Ä–æ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏:</h3>

<p>–°–æ–∑–¥–∞–¥–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ poly_demo</p>

<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>rails new poly_demo
</pre></div>
</div>
</div>

<p>–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —É –Ω–∞—Å –º–æ–≥—É—Ç –±—ã—Ç—å —Å—É—â–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏ –Ω–∞–º –∑–∞—Ö–æ—á–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DRY-–ø—Ä–∏–Ω—Ü–∏–ø, –∏ –≤ —ç—Ç–æ–º –Ω–∞–º –ø–æ–º–æ–∂–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ:</p>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>Post - PostComment (x)
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>Image - ImageComment (x)
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>Link - LinkComment (x)
<span class="line-numbers"><a href="#n6" name="n6">6</a></span>
<span class="line-numbers"><a href="#n7" name="n7">7</a></span>Article - ArticleComment (x)
</pre></div>
</div>
</div>

<p>–ù–∞–º –Ω–µ—Ç —Å–º—ã—Å–ª–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –¥–ª—è –ø–æ–¥–≤–∏–¥–æ–≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.</p>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span>Post
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>          \
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>Image    --  Comment
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>          /
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>Link
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>Article
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>Post.comments
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>Image.comments
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>Link.comments
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>Article.comments
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>
<span class="line-numbers"><a href="#n16" name="n16">16</a></span>content
<span class="line-numbers"><a href="#n17" name="n17">17</a></span>rating
</pre></div>
</div>
</div>

<p>–û–¥–Ω–∞ –º–æ–¥–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç—å —Ä–∞–∑–Ω—ã–º —Å—É—â–Ω–æ—Å—Ç—è–º, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è —Å–∞–º–∞ —Å–æ–±–æ–π (–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º).</p>

<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>rails g model Comment content:text
</pre></div>
</div>
</div>

<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>rails g model Post content:text
</pre></div>
</div>
</div>

<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>rails g model Image url:text
</pre></div>
</div>
</div>

<h4 id="—Å–≤—è–∂–µ–º-—ç—Ç–∏-—Å—É—â–Ω–æ—Å—Ç–∏">–°–≤—è–∂–µ–º —ç—Ç–∏ —Å—É—â–Ω–æ—Å—Ç–∏.</h4>

<p>–¢.–∫. –Ω–∞–º –Ω–∞–¥–æ —Å–≤—è–∑–∞—Ç—å —Å—É—â–Ω–æ—Å—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏, belongs_to –¥–µ–ª–∞–µ—Ç—Å –Ω–µ–º–Ω–æ–≥–æ –∏–Ω–∞—á–µ, —á–µ–º –æ–±—ã—á–Ω–æ.</p>

<p>–ü—Ä–∏ —Å–≤—è–∑—ã–≤–∞–Ω–∏–∏ —Å –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–π –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–µ–π –Ω–∞–¥–æ –≤ belongs_to –¥–æ–±–∞–≤–∏—Ç—å —Å –æ–∫–æ–Ω—á–∞–Ω–∏–µ–º <strong>able</strong></p>

<p>/app/models/comment.rb:</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Comment</span> &lt; <span style="color:#036;font-weight:bold">ApplicationRecord</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  belongs_to <span style="color:#A60">:commentable</span>, <span style="color:#606">polymorphic</span>: <span style="color:#069">true</span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>
<p>commentable - –ø–æ–ª—É—á–∞–µ—Ç—Å—è: –∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–µ–º—ã–π</p>

<p>–•–µ–Ω–¥–ª, —Ä—É–∫–æ—è—Ç–∫–∞, –∫–æ—Ç–æ—Ä–∞—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —É –¥—Ä—É–≥–∏—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π.</p>

<p>/app/models/post.rb:</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Post</span> &lt; <span style="color:#036;font-weight:bold">ApplicationRecord</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  has_many <span style="color:#A60">:comments</span>, <span style="color:#606">as</span>: <span style="color:#A60">:commentable</span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>/app/models/image.rb:</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Image</span> &lt; <span style="color:#036;font-weight:bold">ApplicationRecord</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  has_many <span style="color:#A60">:comments</span>, <span style="color:#606">as</span>: <span style="color:#A60">:commentable</span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–î–∞–ª–µ–µ, –æ—Ç–∫—Ä–æ–µ–º –º–∏–≥—Ä–∞—Ü–∏—é db/migrate/20190205095251_create_comments.rb –∏ –¥–æ–±–∞–≤–∏–º —Å—Ç—Ä–æ–∫—É:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>t.references <span style="color:#A60">:commentable</span>, <span style="color:#606">polymorphic</span>: <span style="color:#069">true</span>
</pre></div>
</div>
</div>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">CreateComments</span> &lt; <span style="color:#036;font-weight:bold">ActiveRecord</span>::<span style="color:#036;font-weight:bold">Migration</span>[<span style="color:#60E">5.2</span>]
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">change</span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>    create_table <span style="color:#A60">:comments</span> <span style="color:#080;font-weight:bold">do</span> |t|
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>      t.text <span style="color:#A60">:content</span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>      t.references <span style="color:#A60">:commentable</span>, <span style="color:#606">polymorphic</span>: <span style="color:#069">true</span>
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>      t.timestamps
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>    <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–î–∞–ª–µ–µ, –¥–µ–ª–∞–µ–º:</p>

<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>bundle exec rake db:migrate
</pre></div>
</div>
</div>

<p>–î–∞–ª–µ–µ, –æ—Ç–∫—Ä–æ–µ–º Rails-–∫–æ–Ω—Å–æ–ª—å:</p>

<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>rails console
</pre></div>
</div>
</div>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span>post = <span style="color:#036;font-weight:bold">Post</span>.create(<span style="color:#606">content</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Foo bar</span><span style="color:#710">'</span></span>)
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>post.comments
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>post.comments.create(<span style="color:#606">content</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Baz Buuu Foo</span><span style="color:#710">'</span></span>)
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>post.comments.create(<span style="color:#606">content</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Comment 2</span><span style="color:#710">'</span></span>)
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>post.comments
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>image = <span style="color:#036;font-weight:bold">Image</span>.create(<span style="color:#606">url</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">1.jpg</span><span style="color:#710">'</span></span>)
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>image.comments.create(<span style="color:#606">content</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Wow! Super!</span><span style="color:#710">'</span></span>)
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>image.comments.create(<span style="color:#606">content</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">This is comment for image!</span><span style="color:#710">'</span></span>)
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>image.comments
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>image2 = <span style="color:#036;font-weight:bold">Image</span>.create(<span style="color:#606">url</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">2.jpg</span><span style="color:#710">'</span></span>)
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>image2.comments.create(<span style="color:#606">content</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Bar</span><span style="color:#710">'</span></span>)
</pre></div>
</div>
</div>

<p>–ü–æ—Å–º–æ—Ç—Ä–∏–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö /db/development.sqlite3:</p>

<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>sqlite3 development.sqlite3
</pre></div>
</div>
</div>

<div class="language-bash highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>select * from comments;
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>select * from posts;
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>select * from images;
</pre></div>
</div>
</div>

<h3 id="–ø—Ä–æ-—Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ-–Ω–∞-heroku">–ü—Ä–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Heroku</h3>

<blockquote>
  <p>–°–º. –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é —Ç—É—Ç: https://github.com/krdprog/prog-conspects/blob/master/hartl-rails.md</p>
</blockquote>

<h3 id="–ø–∞—Ç—Ç–µ—Ä–Ω-singleton-–æ–¥–∏–Ω-–æ–±—ä–µ–∫—Ç-–Ω–∞-–≤—Å–µ—Ö">–ü–∞—Ç—Ç–µ—Ä–Ω Singleton (–æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç –Ω–∞ –≤—Å–µ—Ö)</h3>

<p>–ë–∞–Ω–¥–∞ –ß–µ—Ç—ã—Ä—ë—Ö - GoF (Gang of Four)</p>

<blockquote>
  <p>https://habr.com/ru/post/210288/</p>
</blockquote>

<blockquote>
  <p>https://ru.wikipedia.org/wiki/Design_Patterns</p>
</blockquote>

<h4 id="h–∞–ø–∏—à–µ–º-–ª–æ–≥–≥–µ—Ä-–∫–æ—Ç–æ—Ä—ã–π-–±—É–¥–µ—Ç-—Å–Ω–∞—á–∞–ª–∞-–≤—ã–≤–æ–¥–∏—Ç—å-–Ω–∞-—ç–∫—Ä–∞–Ω-–∞-–∑–∞—Ç–µ–º-—Å–æ—Ö—Ä–∞–Ω—è—Ç—å-–≤-—Ñ–∞–π–ª">H–∞–ø–∏—à–µ–º –ª–æ–≥–≥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–Ω–∞—á–∞–ª–∞ –≤—ã–≤–æ–¥–∏—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω, –∞ –∑–∞—Ç–µ–º —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ —Ñ–∞–π–ª.</h4>

<p>app.rb:</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Logger</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">say_foo</span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>    puts <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Fooo!</span><span style="color:#710">&quot;</span></span>
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n5" name="n5">5</a></span><span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n6" name="n6">6</a></span>
<span class="line-numbers"><a href="#n7" name="n7">7</a></span>logger = <span style="color:#036;font-weight:bold">Logger</span>.new
<span class="line-numbers"><a href="#n8" name="n8">8</a></span>logger.say_foo
</pre></div>
</div>
</div>
<p>–°–æ–∑–¥–∞–¥–∏–º –µ—â—ë –ª–æ–≥–≥–µ—Ä—ã. –ï—Å—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ, –æ–±—ä–µ–∫—Ç–æ–≤ —Å–æ–∑–¥–∞—ë—Ç—Å—è –º–Ω–æ–≥–æ, –∞ –¥–µ–π—Å—Ç–≤–∏–µ —Å–æ–≤–µ—Ä—à–∞–µ—Ç—Å—è –æ–¥–Ω–æ.</p>

<p>–ü–æ–ø—Ä–æ–±—É–µ–º –∏—Å–ø—Ä–∞–≤–∏—Ç—å:</p>

<p>app.rb:</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Logger</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>  <span style="color:#080;font-weight:bold">def</span> <span style="color:#069">self</span>.<span style="color:#06B;font-weight:bold">say_foo</span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>    puts <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Fooo!</span><span style="color:#710">&quot;</span></span>
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n5" name="n5">5</a></span><span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n6" name="n6">6</a></span>
<span class="line-numbers"><a href="#n7" name="n7">7</a></span><span style="color:#036;font-weight:bold">Logger</span>.say_foo
</pre></div>
</div>
</div>

<p>–î–æ–±–∞–≤–∏–º –µ—â—ë –º–µ—Ç–æ–¥:</p>

<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Logger</span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>  <span style="color:#080;font-weight:bold">def</span> <span style="color:#069">self</span>.<span style="color:#06B;font-weight:bold">say_foo</span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>    puts <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Fooo!</span><span style="color:#710">&quot;</span></span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>  <span style="color:#080;font-weight:bold">def</span> <span style="color:#069">self</span>.<span style="color:#06B;font-weight:bold">log_foo</span> bar
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>    f = <span style="color:#036;font-weight:bold">File</span>.open <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">log.txt</span><span style="color:#710">'</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">a</span><span style="color:#710">'</span></span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>    f.puts bar
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>    f.close
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n11" name="n11">11</a></span><span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>
<span class="line-numbers"><a href="#n13" name="n13">13</a></span><span style="color:#036;font-weight:bold">Logger</span>.say_foo
<span class="line-numbers"><a href="#n14" name="n14">14</a></span><span style="color:#036;font-weight:bold">Logger</span>.log_foo <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Wow!</span><span style="color:#710">'</span></span>
<span class="line-numbers"><a href="#n15" name="n15">15</a></span><span style="color:#036;font-weight:bold">Logger</span>.log_foo <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">Meow!</span><span style="color:#710">'</span></span>
</pre></div>
</div>
</div>

<p>–ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –≤ —Ç–æ–º, —á—Ç–æ –º—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ–º –∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª log.txt - —ç—Ç–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É.</p>

<p>class method</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#036;font-weight:bold">Logger</span>.say_foo)
</pre></div>
</div>
</div>
<p>instance method</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>logger = <span style="color:#036;font-weight:bold">Logger</span>.new
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>logger.say_foo
</pre></div>
</div>
</div>

<p><strong>–ß—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å —ç—Ç–æ, –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω Singleton</strong></p>

<p>–ù–∞—à–∞ —Ü–µ–ª—å —Å–¥–µ–ª–∞—Ç—å –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç –Ω–∞ –≤—Å–µ—Ö.</p>

<p>–í—Å—ë —ç—Ç–æ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫ —ç–∫–∑–µ–º–ø–ª—è—Ä—É –∫–ª–∞—Å—Å–∞ (–∫ –æ–±—ä–µ–∫—Ç—É):</p>

<p>@foo - instance variables</p>

<p>instance method:</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">foo</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>–≠—Ç–æ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º—É –∫–ª–∞—Å—Å—É:</p>

<p>@@foo - class variable</p>

<p>class method:</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">def</span> <span style="color:#069">self</span>.<span style="color:#06B;font-weight:bold">foo</span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p>

<p>logger.rb:</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Loggeer</span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">initialize</span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>    <span style="color:#33B">@f</span> = <span style="color:#036;font-weight:bold">File</span>.open <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">log.txt</span><span style="color:#710">'</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">a</span><span style="color:#710">'</span></span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>  <span style="color:#777"># —Å–¥–µ–ª–∞–µ–º, —á—Ç–æ–±—ã –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–ª —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω–∞—à–µ–≥–æ –∫–ª–∞—Å—Å–∞</span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>  <span style="color:#369">@@x</span> = <span style="color:#036;font-weight:bold">Loggeer</span>.new
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>  <span style="color:#080;font-weight:bold">def</span> <span style="color:#069">self</span>.<span style="color:#06B;font-weight:bold">instance</span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>    <span style="color:#080;font-weight:bold">return</span> <span style="color:#369">@@x</span>
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>  <span style="color:#777"># instance method</span>
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">log</span> bar
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>    <span style="color:#33B">@f</span>.puts bar
<span class="line-numbers"><a href="#n16" name="n16">16</a></span>    <span style="color:#33B">@f</span>.flush
<span class="line-numbers"><a href="#n17" name="n17">17</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n18" name="n18">18</a></span>
<span class="line-numbers"><a href="#n19" name="n19">19</a></span>  <span style="color:#777"># –º–µ—Ö–∞–Ω–∏–∑–º –∑–∞—â–∏—Ç—ã, —á—Ç–æ–±—ã Loggeer.new –º–æ–∂–Ω–æ –±—ã–ª–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞</span>
<span class="line-numbers"><strong><a href="#n20" name="n20">20</a></strong></span>  private_class_method <span style="color:#A60">:new</span>
<span class="line-numbers"><a href="#n21" name="n21">21</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>

<p>app.rb:</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">./logger</span><span style="color:#710">&quot;</span></span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span><span style="color:#036;font-weight:bold">Loggeer</span>.instance.log <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Good job!</span><span style="color:#710">&quot;</span></span>
</pre></div>
</div>
</div>

<p><strong>–í —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ ruby –µ—Å—Ç—å –º–æ–¥—É–ª—å Singleton</strong></p>

<blockquote>
  <p>https://ruby-doc.org/stdlib-2.5.3/libdoc/singleton/rdoc/Singleton.html</p>
</blockquote>

<p>–ü–µ—Ä–µ–ø–∏—à–µ–º –ø—Ä–æ–≥—Ä–∞–º–º—É –∏—Å–ø–æ–ª—å–∑—É—è —ç—Ç–æ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å.</p>

<p>logger.rb:</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span>require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">singleton</span><span style="color:#710">'</span></span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span><span style="color:#080;font-weight:bold">class</span> <span style="color:#B06;font-weight:bold">Loggeer</span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>  include <span style="color:#036;font-weight:bold">Singleton</span>
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">initialize</span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>    <span style="color:#33B">@f</span> = <span style="color:#036;font-weight:bold">File</span>.open <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">log.txt</span><span style="color:#710">'</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">a</span><span style="color:#710">'</span></span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>  <span style="color:#080;font-weight:bold">def</span> <span style="color:#06B;font-weight:bold">log</span> bar
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>    <span style="color:#33B">@f</span>.puts bar
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>    <span style="color:#33B">@f</span>.flush
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>  <span style="color:#080;font-weight:bold">end</span>
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>
<span class="line-numbers"><a href="#n16" name="n16">16</a></span><span style="color:#080;font-weight:bold">end</span>
</pre></div>
</div>
</div>
<p>app.rb:</p>
<div class="language-ruby highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>require <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">./logger</span><span style="color:#710">&quot;</span></span>
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span><span style="color:#036;font-weight:bold">Loggeer</span>.instance.log <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">It`s work!</span><span style="color:#710">&quot;</span></span>
</pre></div>
</div>
</div>

<blockquote>
  <p>https://github.com/krdprog/logger.rb</p>
</blockquote>

<p><strong>–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ:</strong> —Å–¥–µ–ª–∞—Ç—å –±–ª–æ–≥ —Å —Å—É—â–Ω–æ—Å—Ç—è–º–∏ post, link, image —Å –∫–æ–º–º–µ–Ω–∞—Ç—Ä–∏—è–º–∏, —Å–¥–µ–ª–∞—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—ã–≤–æ–¥ –≤—Å–µ—Ö —ç—Ç–∏—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π.</p>

<h2 id="—É—Ä–æ–∫-50">–£—Ä–æ–∫ 50</h2>

<h3 id="—Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ-–≤—ã—Ä–∞–∂–µ–Ω–∏—è---regular-expression-regex">–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è - Regular expression (regex)</h3>

<blockquote>
  <p>https://rubular.com/</p>
</blockquote>

<p>–î–ª—è –æ—Ç—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤, –¥–∞–Ω–Ω—ã—Ö, –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü.</p>

<p>–§–∞–π–ª –¥–ª—è —Ç—Ä–µ–Ω–µ—Ä–æ–≤–∫–∏ —Å Regex –º–æ–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å —Ç—É—Ç: https://github.com/krdprog/rubyschool-notes/blob/master/for-lesson-50-regex.txt</p>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>The cat goes catatonic when you put in in catapult
</pre></div>
</div>
</div>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>cat\b
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>\b - –≥—Ä–∞–Ω–∏—Ü–∞ —Å–ª–æ–≤–∞
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>–í—ã–±–µ—Ä–µ—Ç: cat
</pre></div>
</div>
</div>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>Yesterday, at 12 AM, he withdrew $600.00 from an ATM. He then spent $200.12 on  groceries. At 3:00 P.M., he logged onto a poker site and played 400 hands of poker. He won $60.41 at first, but ultimately lost a net total of $38.82.
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>He had only $0.1 in his pocket.
</pre></div>
</div>
</div>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span>\.\d{2}
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>\. - —Ç–æ—á–∫–∞
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>\d - –ª—é–±–∞—è —Ü–∏—Ñ—Ä–∞
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>{2} - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Å–∏–º–≤–æ–ª–æ–≤
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>–í—ã–±–µ—Ä–µ—Ç: .00 .12 .41 .82
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>\.\d{1,2}
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>–í—ã–±–µ—Ä–µ—Ç: .00 .12 .41 .82 0.1
</pre></div>
</div>
</div>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>hi world, it's hip to have big thighs
</pre></div>
</div>
</div>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>hi\b
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>–í—ã–±–µ—Ä–µ—Ç: hi
</pre></div>
</div>
</div>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>this is file.txt
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>\b –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ _
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>–†–µ–∑—É–ª—å—Ç–∞—Ç: this_is_file.txt
</pre></div>
</div>
</div>

<p><strong>Regex –Ω—É–∂–Ω—ã –¥–ª—è:</strong></p>

<ul>
  <li>–ø—Ä–æ–≤–µ—Ä–∫–∏</li>
  <li>–∑–∞–º–µ–Ω—ã</li>
</ul>

<p><strong>–í Sublime Text</strong> –Ω–∞–∂–º—ë–º Ctrl + H (–ø–æ–∏—Å–∫ –∏ –∑–∞–º–µ–Ω–∞), –∏ –≤—ã–±–µ—Ä–µ–º ‚Äú—Å Regular Expression‚Äù</p>

<h4 id="–ø—Ä–æ–±–ª–µ–º—ã-–Ω–∞-–ø—É—Å—Ç–æ–º-–º–µ—Å—Ç–µ">–ü—Ä–æ–±–ª–µ–º—ã –Ω–∞ –ø—É—Å—Ç–æ–º –º–µ—Å—Ç–µ</h4>

<p>–ü—Ä–æ–±–µ–ª, —Ç–∞–±—É–ª—è—Ü–∏—è, \n, \r - –≤—Å—ë —ç—Ç–æ whitespace</p>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>\n\n
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>\n  \n
</pre></div>
</div>
</div>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>the quick brown
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>fox jumps over
<span class="line-numbers"><a href="#n4" name="n4">4</a></span>
<span class="line-numbers"><a href="#n5" name="n5">5</a></span>the lazy dog
</pre></div>
</div>
</div>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>–£–±—Ä–∞—Ç—å –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏:
<span class="line-numbers"><a href="#n2" name="n2">2</a></span>
<span class="line-numbers"><a href="#n3" name="n3">3</a></span>\n\n –∑–∞–º–µ–Ω—è–µ–º –Ω–∞ \n
</pre></div>
</div>
</div>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span>
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>the quick
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>brown fox
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>jumps
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>over
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>the lazy
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>
<span class="line-numbers"><a href="#n16" name="n16">16</a></span>
<span class="line-numbers"><a href="#n17" name="n17">17</a></span>dog
</pre></div>
</div>
</div>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"><a href="#n1" name="n1">1</a></span>\n+ –∑–∞–º–µ–Ω—è–µ–º –Ω–∞ \n
</pre></div>
</div>
</div>

<h3 id="—à–ø–∞—Ä–≥–∞–ª–∫–∞-–ø–æ-—Ä–µ–≥—É–ª—è—Ä–Ω—ã–º-–≤—ã—Ä–∞–∂–µ–Ω–∏—è–º-regex">–®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º (regex)</h3>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span>[abc]  A single character of: a, b, or c
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>[^abc]  Any single character except: a, b, or c
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>[a-z]   Any single character in the range a-z
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>[a-zA-Z]  Any single character in the range a-z or A-Z
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>^   Start of line
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>$   End of line
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>\A  Start of string
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>\z  End of string
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>.   Any single character
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>\s  Any whitespace character
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>\S  Any non-whitespace character
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>\d  Any digit
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>\D  Any non-digit
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>\w  Any word character (letter, number, underscore)
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>\W  Any non-word character
<span class="line-numbers"><a href="#n16" name="n16">16</a></span>\b  Any word boundary
<span class="line-numbers"><a href="#n17" name="n17">17</a></span>(...)   Capture everything enclosed
<span class="line-numbers"><a href="#n18" name="n18">18</a></span>(a|b)   a or b
<span class="line-numbers"><a href="#n19" name="n19">19</a></span>a?  Zero or one of a
<span class="line-numbers"><strong><a href="#n20" name="n20">20</a></strong></span>a*  Zero or more of a
<span class="line-numbers"><a href="#n21" name="n21">21</a></span>a+  One or more of a
<span class="line-numbers"><a href="#n22" name="n22">22</a></span>a{3}  Exactly 3 of a
<span class="line-numbers"><a href="#n23" name="n23">23</a></span>a{3,}   3 or more of a
<span class="line-numbers"><a href="#n24" name="n24">24</a></span>a{3,6}  Between 3 and 6 of a
</pre></div>
</div>
</div>

<div class="language-text highlighter-coderay"><div class="CodeRay">
  <div class="code"><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span>\ - —Å –æ–±—Ä–∞—Ç–Ω–æ–π –∫–æ—Å–æ–π —á–µ—Ä—Ç—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è –±—É–∫–≤–µ–Ω–Ω—ã–µ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã, –∞ —Ç–∞–∫–∂–µ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª –≤ –≤–∏–¥–µ –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ –∑–Ω–∞–∫–∞ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è;
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>^ - —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–∞—á–∞–ª–æ —Å—Ç—Ä–æ–∫–∏;
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>$ - —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∫–æ–Ω–µ—Ü —Å—Ç—Ä–æ–∫–∏;
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>* - —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Å–∏–º–≤–æ–ª –º–æ–∂–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è 0 –∏–ª–∏ –±–æ–ª—å—à–µ —Ä–∞–∑;
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>+ - —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Å–∏–º–≤–æ–ª –¥–æ–ª–∂–µ–Ω –ø–æ–≤—Ç–æ—Ä–∏—Ç—Å—è –±–æ–ª—å—à–µ –æ–¥–∏–Ω –∏–ª–∏ –±–æ–ª—å—à–µ —Ä–∞–∑;
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span>? - –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Å–∏–º–≤–æ–ª –º–æ–∂–µ—Ç –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è –Ω–æ–ª—å –∏–ª–∏ –æ–¥–∏–Ω —Ä–∞–∑;
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span>{n} - —É–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ (n) –Ω—É–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Å–∏–º–≤–æ–ª;
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span>{N,n} - –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Å–∏–º–≤–æ–ª –º–æ–∂–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è –æ—Ç N –¥–æ n —Ä–∞–∑;
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>. - –ª—é–±–æ–π —Å–∏–º–≤–æ–ª –∫—Ä–æ–º–µ –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ç—Ä–æ–∫–∏;
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>[az] - –ª—é–±–æ–π —Å–∏–º–≤–æ–ª, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ —Å–∫–æ–±–∫–∞—Ö;
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>—Ö|—É - —Å–∏–º–≤–æ–ª x –∏–ª–∏ —Å–∏–º–≤–æ–ª y;
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>[^az] - –ª—é–±–æ–π —Å–∏–º–≤–æ–ª, –∫—Ä–æ–º–µ —Ç–µ—Ö, —á—Ç–æ —É–∫–∞–∑–∞–Ω—ã –≤ —Å–∫–æ–±–∫–∞—Ö;
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>[a-z] - –ª—é–±–æ–π —Å–∏–º–≤–æ–ª –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞;
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>[^a-z] - –ª—é–±–æ–π —Å–∏–º–≤–æ–ª, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ;
<span class="line-numbers"><a href="#n16" name="n16">16</a></span>\b - –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç –≥—Ä–∞–Ω–∏—Ü—É —Å–ª–æ–≤–∞ —Å –ø—Ä–æ–±–µ–ª–æ–º;
<span class="line-numbers"><a href="#n17" name="n17">17</a></span>\B - –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ —Å–∏–º–≤–æ–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–Ω—É—Ç—Ä–∏ —Å–ª–æ–≤–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, ux —Å–æ–≤–ø–∞–¥–µ—Ç —Å uxb
<span class="line-numbers"><a href="#n18" name="n18">18</a></span>–∏–ª–∏ tuxedo, –Ω–æ –Ω–µ —Å–æ–≤–ø–∞–¥–µ—Ç —Å Linux;
<span class="line-numbers"><a href="#n19" name="n19">19</a></span>\d - –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Å–∏–º–≤–æ–ª - —Ü–∏—Ñ—Ä–∞;
<span class="line-numbers"><strong><a href="#n20" name="n20">20</a></strong></span>\D - –Ω–µ—Ü–∏—Ñ—Ä–æ–≤–æ–π —Å–∏–º–≤–æ–ª;
<span class="line-numbers"><a href="#n21" name="n21">21</a></span>\n - —Å–∏–º–≤–æ–ª –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ç—Ä–æ–∫–∏;
<span class="line-numbers"><a href="#n22" name="n22">22</a></span>\s - –æ–¥–∏–Ω –∏–∑ —Å–∏–º–≤–æ–ª–æ–≤ –ø—Ä–æ–±–µ–ª–∞, –ø—Ä–æ–±–µ–ª, —Ç–∞–±—É–ª—è—Ü–∏—è –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ;
<span class="line-numbers"><a href="#n23" name="n23">23</a></span>\S - –ª—é–±–æ–π —Å–∏–º–≤–æ–ª –∫—Ä–æ–º–µ –ø—Ä–æ–±–µ–ª–∞;
<span class="line-numbers"><a href="#n24" name="n24">24</a></span>\t - —Å–∏–º–≤–æ–ª —Ç–∞–±—É–ª—è—Ü–∏–∏;
<span class="line-numbers"><a href="#n25" name="n25">25</a></span>\v - —Å–∏–º–≤–æ–ª –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π —Ç–∞–±—É–ª—è—Ü–∏–∏;
<span class="line-numbers"><a href="#n26" name="n26">26</a></span>\w - –ª—é–±–æ–π –±—É–∫–≤–µ–Ω–Ω—ã–π —Å–∏–º–≤–æ–ª, –≤–∫–ª—é—á–∞—è –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ;
<span class="line-numbers"><a href="#n27" name="n27">27</a></span>\W - –ª—é–±–æ–π –±—É–∫–≤–µ–Ω–Ω—ã–π —Å–∏–º–≤–æ–ª, –∫—Ä–æ–º–µ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è;
<span class="line-numbers"><a href="#n28" name="n28">28</a></span>\uXXX - —Å–∏–º–≤–æ–ª Unicdoe.
</pre></div>
</div>
</div>

<h2 id="—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ-–∫–æ–Ω—Å–ø–µ–∫—Ç–∞">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –∫–æ–Ω—Å–ø–µ–∫—Ç–∞:</h2>

<table>
  <thead>
    <tr>
      <th>N</th>
      <th>N</th>
      <th>N</th>
      <th>N</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="http://rubyblog.ru/rubyschool-notes/rs-01/">–£—Ä–æ–∫ 01-14</a></td>
      <td><a href="http://rubyblog.ru/rubyschool-notes/rs-02/">–£—Ä–æ–∫ 15-19</a></td>
      <td><a href="http://rubyblog.ru/rubyschool-notes/rs-03/">–£—Ä–æ–∫ 20-25</a></td>
      <td><a href="http://rubyblog.ru/rubyschool-notes/rs-04/">–£—Ä–æ–∫ 26-30</a></td>
    </tr>
    <tr>
      <td><a href="http://rubyblog.ru/rubyschool-notes/rs-05/">–£—Ä–æ–∫ 31-35</a></td>
      <td><a href="http://rubyblog.ru/rubyschool-notes/rs-06/">–£—Ä–æ–∫ 36-40</a></td>
      <td><a href="http://rubyblog.ru/rubyschool-notes/rs-07/">–£—Ä–æ–∫ 41-45</a></td>
      <td><a href="http://rubyblog.ru/rubyschool-notes/rs-08/">–£—Ä–æ–∫ 46-50</a></td>
    </tr>
  </tbody>
</table>
:ET